{"ast":null,"code":"import Axios from 'axios';\nimport UseBaseContext from './../ContextApi/UseBaseContext';\n\nfunction UrlCall() {\n  const _UseBaseContext = UseBaseContext(),\n        setShowMovies = _UseBaseContext.setShowMovies;\n\n  const BASE_URL = 'https://api.themoviedb.org/3/discover/movie?api_key=3a94078fb34b772a31d9a1348035bed7&language=en-US';\n  const HEADER_MENU = '&sort_by=$custom.desc&include_adult=false&include_video=false&page=1';\n  let url = BASE_URL + HEADER_MENU;\n  getCall(url);\n\n  function getCall(url) {\n    return new Promise((resolve, reject) => {\n      Axios.get(url).then(promise => {\n        resolve(promise.data);\n      });\n    });\n  }\n\n  ; //rated; popularity; favorites; recommendations; watchlist\n\n  function getCustomCall(menu = 'popularity') {\n    let url = BASE_URL + HEADER_MENU.replace('$custom', menu);\n    getCall(url).then(data => {\n      if (data && data.results) {\n        setShowMovies(data.results);\n      }\n    });\n  }\n  /* the first call which the system would do */\n\n\n  function defaultCall() {\n    getCall(url).then(data => {\n      if (data && data.results) {\n        setShowMovies(data.results);\n      }\n    });\n  }\n\n  return {\n    defaultCall,\n    getCustomCall\n  };\n}\n\nexport default UrlCall;","map":{"version":3,"sources":["/Users/i342285/Documents/Self/Clum-1/src/ContextApi/UrlCall.js"],"names":["Axios","UseBaseContext","UrlCall","setShowMovies","BASE_URL","HEADER_MENU","url","getCall","Promise","resolve","reject","get","then","promise","data","getCustomCall","menu","replace","results","defaultCall"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,gCAA3B;;AAEA,SAASC,OAAT,GAAmB;AAAA,0BACWD,cAAc,EADzB;AAAA,QACPE,aADO,mBACPA,aADO;;AAGf,QAAMC,QAAQ,GAAG,qGAAjB;AACA,QAAMC,WAAW,GAAG,sEAApB;AACA,MAAIC,GAAG,GAAGF,QAAQ,GAAGC,WAArB;AACAE,EAAAA,OAAO,CAACD,GAAD,CAAP;;AACA,WAASC,OAAT,CAAiBD,GAAjB,EAAsB;AAClB,WAAO,IAAIE,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCV,MAAAA,KAAK,CAACW,GAAN,CAAUL,GAAV,EAAeM,IAAf,CAAqBC,OAAD,IAAa;AAC7BJ,QAAAA,OAAO,CAACI,OAAO,CAACC,IAAT,CAAP;AACH,OAFD;AAGH,KAJM,CAAP;AAMH;;AAAA,GAdc,CAef;;AACA,WAASC,aAAT,CAAuBC,IAAI,GAAG,YAA9B,EAA4C;AACxC,QAAIV,GAAG,GAAGF,QAAQ,GAAGC,WAAW,CAACY,OAAZ,CAAoB,SAApB,EAA+BD,IAA/B,CAArB;AACAT,IAAAA,OAAO,CAACD,GAAD,CAAP,CAAaM,IAAb,CAAmBE,IAAD,IAAU;AACxB,UAAIA,IAAI,IAAIA,IAAI,CAACI,OAAjB,EAA0B;AACtBf,QAAAA,aAAa,CAACW,IAAI,CAACI,OAAN,CAAb;AACH;AACJ,KAJD;AAKH;AAED;;;AACA,WAASC,WAAT,GAAuB;AACnBZ,IAAAA,OAAO,CAACD,GAAD,CAAP,CAAaM,IAAb,CAAmBE,IAAD,IAAU;AACxB,UAAIA,IAAI,IAAIA,IAAI,CAACI,OAAjB,EAA0B;AACtBf,QAAAA,aAAa,CAACW,IAAI,CAACI,OAAN,CAAb;AACH;AACJ,KAJD;AAKH;;AAED,SAAO;AACHC,IAAAA,WADG;AAEHJ,IAAAA;AAFG,GAAP;AAIH;;AAED,eAAeb,OAAf","sourcesContent":["import Axios from 'axios'\nimport UseBaseContext from './../ContextApi/UseBaseContext'\n\nfunction UrlCall() {\n    const { setShowMovies } = UseBaseContext();\n\n    const BASE_URL = 'https://api.themoviedb.org/3/discover/movie?api_key=3a94078fb34b772a31d9a1348035bed7&language=en-US';\n    const HEADER_MENU = '&sort_by=$custom.desc&include_adult=false&include_video=false&page=1'\n    let url = BASE_URL + HEADER_MENU;\n    getCall(url);\n    function getCall(url) {\n        return new Promise((resolve, reject) => {\n            Axios.get(url).then((promise) => {\n                resolve(promise.data);\n            });\n        })\n\n    };\n    //rated; popularity; favorites; recommendations; watchlist\n    function getCustomCall(menu = 'popularity') {\n        let url = BASE_URL + HEADER_MENU.replace('$custom', menu);\n        getCall(url).then((data) => {\n            if (data && data.results) {\n                setShowMovies(data.results);\n            }\n        })\n    }\n\n    /* the first call which the system would do */\n    function defaultCall() {\n        getCall(url).then((data) => {\n            if (data && data.results) {\n                setShowMovies(data.results);\n            }\n        })\n    }\n\n    return {\n        defaultCall,\n        getCustomCall\n    }\n}\n\nexport default UrlCall;"]},"metadata":{},"sourceType":"module"}